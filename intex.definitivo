<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CultureSwap Hub - v4.2 Real Photos</title>
    <!-- Tailwind CSS for fast design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles to simulate mobile app */
        body {
            background-color: #f3f4f6;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .mobile-container {
            width: 100%;
            max-width: 375px; /* iPhone size */
            height: 100%;
            max-height: 750px;
            background-color: white;
            position: relative;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            border-radius: 30px;
            border: 8px solid #1f2937;
        }
        /* Hide scrollbar */
        .mobile-container::-webkit-scrollbar {
            display: none;
        }
        
        /* --- SCREEN LOGIC --- */
        .screen {
            display: none !important; 
            flex-direction: column;
            height: 100%;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .screen.active {
            display: flex !important;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Chat Bubbles */
        .chat-bubble-me {
            background-color: #3B82F6;
            color: white;
            border-radius: 18px 18px 0 18px;
            padding: 10px 15px;
            max-width: 80%;
            align-self: flex-end;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .chat-bubble-them {
            background-color: #f3f4f6;
            color: #1F2937;
            border-radius: 18px 18px 18px 0;
            padding: 10px 15px;
            max-width: 80%;
            align-self: flex-start;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .nav-btn {
            color: #9CA3AF;
            transition: all 0.2s;
        }
        .nav-btn.active {
            color: #3B82F6;
            transform: scale(1.1);
        }
        /* SOS Button Animation */
        .pulse-red {
            animation: pulse-red 2s infinite;
        }
        @keyframes pulse-red {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        
        /* Interest Tag Selection */
        .interest-tag {
            transition: all 0.2s;
            border: 1px solid #e5e7eb;
        }
        .interest-tag.selected {
            background-color: #eff6ff;
            border-color: #3b82f6;
            color: #2563eb;
            font-weight: bold;
            transform: scale(1.05);
        }

        /* Confetti Animation */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            animation: fall linear forwards;
            z-index: 50;
        }
        @keyframes fall {
            to { transform: translateY(800px) rotate(720deg); }
        }

        /* Floating Slang Button */
        .float-btn {
            position: absolute;
            bottom: 80px;
            right: 20px;
            z-index: 40;
            transition: transform 0.2s;
        }
        .float-btn:active {
            transform: scale(0.9);
        }
        
        /* Match List Item */
        .match-item {
            transition: all 0.2s;
        }
        .match-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>

    <!-- Mobile Frame -->
    <div class="mobile-container relative">
        
        <!-- CONFETTI CONTAINER -->
        <div id="confetti-container" class="absolute top-0 left-0 w-full h-full pointer-events-none overflow-hidden" style="z-index: 100;"></div>

        <!-- SCREEN 1: SPLASH SCREEN (LOGO) -->
        <div id="screen-splash" class="screen active justify-center items-center bg-blue-600 text-white h-full">
            <div class="text-7xl mb-4 animate-bounce"><i class="fa-solid fa-earth-americas"></i></div>
            <h1 class="text-3xl font-bold tracking-wider">CultureSwap</h1>
            <p class="text-blue-200 mt-2">Connect. Learn. Belong.</p>
            <div class="mt-8 animate-pulse text-sm font-semibold text-blue-200">Loading v4.2...</div>
        </div>

        <!-- SCREEN 2: LOGIN -->
        <div id="screen-login" class="screen justify-center px-8 bg-white">
            <div class="text-center mb-10">
                <div class="text-blue-600 text-6xl mb-6"><i class="fa-solid fa-graduation-cap"></i></div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Welcome</h2>
                <p class="text-gray-500">Your exchange journey starts here.</p>
            </div>
            
            <button onclick="login()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-4 rounded-2xl shadow-lg transition transform hover:scale-105 mb-4 flex items-center justify-center gap-3">
                <i class="fa-solid fa-school text-xl"></i> Log in with School ID
            </button>
            
            <!-- SIGN UP BUTTON -->
            <button onclick="goToScreen('screen-signup')" class="w-full bg-white border-2 border-blue-100 text-blue-600 font-bold py-4 px-4 rounded-2xl mb-4 hover:bg-blue-50 transition">
                New Student? Sign Up
            </button>
            
            <p class="text-xs text-center text-gray-400 mt-8 flex justify-center items-center gap-1">
                <i class="fa-solid fa-shield-halved"></i> Verified by Lincoln High School
            </p>
        </div>

        <!-- SCREEN: SIGN UP -->
        <div id="screen-signup" class="screen bg-white">
            <div class="p-6 h-full flex flex-col">
                <button onclick="goToScreen('screen-login')" class="text-gray-400 hover:text-gray-800 mb-6 flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
                
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Create Account</h2>
                <p class="text-gray-500 mb-6">Tell us about yourself to find the best mentor match.</p>

                <div class="space-y-5 flex-1 overflow-y-auto pb-4">
                    <!-- Name -->
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="signup-name" placeholder="Ex: Jorge Perez" class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 transition">
                    </div>

                    <!-- Organization -->
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Exchange Organization</label>
                        <div class="relative">
                            <select id="signup-org" class="w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                <option>Select Organization...</option>
                                <option>EF (Education First)</option>
                                <option>Rotary International</option>
                                <option>AFS Intercultural</option>
                                <option>CIEE</option>
                                <option>Other</option>
                            </select>
                            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500">
                                <i class="fa-solid fa-chevron-down text-xs"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Interests -->
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2">Interests (Select 3)</label>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üèÄ Sports</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üéµ Music</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üé® Art</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üéÆ Gaming</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üåÆ Food</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üíª Tech</button>
                            <button onclick="toggleInterest(this)" class="interest-tag px-4 py-2 rounded-full text-sm bg-white text-gray-600">üìö Reading</button>
                        </div>
                    </div>
                </div>

                <button onclick="completeSignup()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl shadow-lg mt-4 mb-2 transition transform active:scale-95">
                    Complete Registration
                </button>
            </div>
        </div>

        <!-- SCREEN 3: HOME (DASHBOARD) -->
        <div id="screen-home" class="screen bg-gray-50">
            <!-- Header -->
            <div class="bg-white p-6 pb-4 shadow-sm z-10 flex justify-between items-center sticky top-0">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold border border-blue-200">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <div>
                        <!-- Dynamic Name ID -->
                        <h1 id="user-greeting" class="text-lg font-bold text-gray-800 leading-tight">Hi, Student üëã</h1>
                        <p class="text-xs text-gray-500">Exchange Student</p>
                    </div>
                </div>
                <!-- SOS BUTTON -->
                <button onclick="alert('üÜò Emergency Mode Activated\n\nNotifying: \n1. School Counselor\n2. Host Family\n3. Local Coordinator\n\n(This is a demo)')" class="w-10 h-10 bg-white text-red-500 rounded-full flex items-center justify-center shadow-md border border-red-100 pulse-red hover:bg-red-50">
                    <i class="fa-solid fa-triangle-exclamation"></i>
                </button>
            </div>

            <!-- Content -->
            <div class="p-6 flex-1 overflow-y-auto">
                
                <!-- MOOD TRACKER -->
                <div id="mood-tracker" class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100 mb-6">
                    <h4 class="text-sm font-bold text-gray-700 mb-3">How are you feeling today?</h4>
                    <div class="flex justify-between px-2">
                        <button onclick="selectMood(this, 'Great!')" class="text-2xl hover:scale-125 transition grayscale hover:grayscale-0">üòÉ</button>
                        <button onclick="selectMood(this, 'Okay')" class="text-2xl hover:scale-125 transition grayscale hover:grayscale-0">üôÇ</button>
                        <button onclick="selectMood(this, 'Meh')" class="text-2xl hover:scale-125 transition grayscale hover:grayscale-0">üòê</button>
                        <button onclick="selectMood(this, 'Sad')" class="text-2xl hover:scale-125 transition grayscale hover:grayscale-0">üòî</button>
                        <button onclick="selectMood(this, 'Help')" class="text-2xl hover:scale-125 transition grayscale hover:grayscale-0">üò≠</button>
                    </div>
                    <div id="mood-response" class="hidden mt-3 text-xs text-green-600 font-bold text-center bg-green-50 py-1 rounded-lg">Thanks for checking in! üåü</div>
                </div>

                <!-- Welcome Card (Visible Initially) -->
                <div id="card-welcome" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl p-5 mb-6 shadow-lg shadow-blue-200 relative overflow-hidden">
                    <div class="relative z-10">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-bold text-lg">Welcome Aboard! üöÄ</h3>
                        </div>
                        <p class="text-blue-100 text-sm mb-4 leading-relaxed">You haven't matched with a mentor yet. Find a veteran student to help you.</p>
                        <!-- CHANGE: Go to LIST first -->
                        <button onclick="goToScreen('screen-match-list')" class="bg-white text-blue-600 px-4 py-3 rounded-xl text-sm font-bold w-full shadow-md flex justify-center items-center gap-2 hover:bg-gray-50 transition transform active:scale-95">
                            <i class="fa-solid fa-magnifying-glass"></i> Find My Mentor
                        </button>
                    </div>
                    <i class="fa-solid fa-paper-plane absolute -bottom-4 -right-4 text-8xl text-white opacity-10"></i>
                </div>

                <!-- Active Mentor Card (FORCE HIDDEN INITIALLY) -->
                <div id="card-mentor-active" style="display: none;" class="bg-white border border-blue-100 rounded-2xl p-5 mb-6 shadow-md border-l-4 border-l-green-500">
                    <div class="flex justify-between items-center">
                        <div>
                             <h3 class="font-bold text-lg text-gray-800">Your Mentor</h3>
                             <p class="text-xs text-gray-500">Exchange Alumni</p>
                        </div>
                        <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                            <i class="fa-solid fa-check-circle"></i> Connected
                        </span>
                    </div>
                    <div class="flex items-center gap-3 mt-4 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                             <!-- ELENA REAL PHOTO -->
                             <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop" alt="Elena" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <p class="text-sm font-bold text-gray-800">Elena Gomez</p>
                            <p class="text-xs text-blue-600">Active now</p>
                        </div>
                    </div>
                    <button onclick="openChatWithMatch()" class="w-full mt-3 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded-lg shadow-sm transition">
                        <i class="fa-regular fa-comment-dots"></i> Chat Now
                    </button>
                </div>

                <!-- Daily Tip -->
                <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 flex gap-3 items-start">
                    <div class="text-yellow-600 mt-1 text-lg"><i class="fa-regular fa-lightbulb"></i></div>
                    <div>
                        <h4 class="text-sm font-bold text-gray-800">Tip of the Day</h4>
                        <p class="text-xs text-gray-600 mt-1">In the US, 15-20% is the standard tip at restaurants. It's not optional!</p>
                    </div>
                </div>

                <!-- Quick Actions / Grid -->
                <h3 class="font-bold text-gray-800 mb-4">Explore</h3>
                
                <div class="grid grid-cols-2 gap-4 mb-20">
                    <!-- 1. Town & School -->
                    <div class="col-span-2 bg-white p-4 rounded-2xl shadow-sm border border-blue-100 flex items-center gap-4 cursor-pointer hover:bg-blue-50 border-l-4 border-l-blue-500 transition" onclick="goToScreen('screen-guide-town')">
                        <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-xl flex-shrink-0">
                            <i class="fa-solid fa-city"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">Town & School</h3>
                            <p class="text-xs text-gray-500">Mascot, Best Pizza, Map...</p>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300 ml-auto"></i>
                    </div>

                    <!-- 2. General Guides -->
                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center justify-center h-32 cursor-pointer hover:border-blue-300 transition" onclick="goToScreen('screen-guides')">
                        <div class="w-12 h-12 bg-orange-100 text-orange-500 rounded-full flex items-center justify-center text-xl mb-2">
                            <i class="fa-solid fa-book-open"></i>
                        </div>
                        <span class="text-sm font-medium text-gray-600">Local Guides</span>
                    </div>
                    
                    <!-- 3. Events -->
                    <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center justify-center h-32 cursor-pointer hover:border-blue-300 transition" onclick="goToScreen('screen-events')">
                        <div class="w-12 h-12 bg-purple-100 text-purple-500 rounded-full flex items-center justify-center text-xl mb-2">
                            <i class="fa-solid fa-calendar-day"></i>
                        </div>
                        <span class="text-sm font-medium text-gray-600">Events</span>
                    </div>
                </div>
            </div>

            <!-- NEW: Floating Translator Button -->
            <button onclick="alert('üó£Ô∏è Slang Translator\n\nWord: \'No Cap\'\nMeaning: No lie / For real.\n\nWord: \'Rizz\'\nMeaning: Charisma / Flirting skill.')" class="float-btn w-14 h-14 bg-indigo-600 text-white rounded-full shadow-xl flex items-center justify-center text-2xl hover:bg-indigo-700">
                <i class="fa-solid fa-language"></i>
            </button>

            <!-- Bottom Nav -->
            <div class="bg-white border-t border-gray-200 py-3 px-6 flex justify-between items-center absolute bottom-0 w-full rounded-b-[22px]">
                <button class="nav-btn active flex flex-col items-center gap-1 text-xs" onclick="goToScreen('screen-home')">
                    <i class="fa-solid fa-house text-xl"></i> Home
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 text-xs" onclick="goToScreen('screen-match-list')">
                    <i class="fa-solid fa-magnifying-glass text-xl"></i> Match
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 text-xs" onclick="tryOpenChat()">
                    <i class="fa-solid fa-comment text-xl"></i> Chat
                </button>
            </div>
        </div>

        <!-- NEW SCREEN: MATCH LIST (The Options) -->
        <div id="screen-match-list" class="screen bg-gray-50">
            <div class="p-6">
                <button onclick="goToScreen('screen-home')" class="text-gray-400 hover:text-gray-800 mb-6 flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
                
                <h2 class="text-2xl font-bold text-gray-800 mb-1">Top Matches</h2>
                <p class="text-gray-500 mb-6">Based on your origin: üá™üá∏ Spain</p>

                <div class="space-y-4">
                    <!-- Match 1 (Elena) -->
                    <div onclick="goToScreen('screen-match-profile')" class="match-item bg-white p-4 rounded-2xl shadow-sm border border-indigo-100 flex items-center gap-4 cursor-pointer relative overflow-hidden">
                        <div class="absolute top-0 right-0 bg-indigo-500 text-white text-[10px] px-2 py-1 rounded-bl-lg font-bold">100% MATCH</div>
                        <div class="w-16 h-16 bg-gray-200 rounded-full overflow-hidden flex-shrink-0 border-2 border-indigo-500">
                            <!-- REAL PHOTO ELENA -->
                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop" alt="Elena" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800 text-lg">Elena Gomez</h3>
                            <p class="text-xs text-indigo-600 font-bold mb-1">Exchange Alumni '24 ‚Ä¢ Madrid</p>
                            <p class="text-xs text-gray-500">"Lived in Ohio. Love sports!"</p>
                        </div>
                    </div>

                    <!-- Match 2 (Marc) -->
                    <div onclick="alert('Demo: You selected Marc. For this demo, let\'s look at Elena\'s profile!')" class="match-item bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 cursor-pointer">
                        <div class="w-16 h-16 bg-gray-200 rounded-full overflow-hidden flex-shrink-0">
                            <!-- REAL PHOTO MARC -->
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200&auto=format&fit=crop" alt="Marc" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800 text-lg">Marc Fernandez</h3>
                            <p class="text-xs text-gray-500 font-bold mb-1">Exchange Alumni '23 ‚Ä¢ Barcelona</p>
                            <p class="text-xs text-gray-500">"Expert in host family life."</p>
                        </div>
                        <span class="text-xs font-bold text-green-600 ml-auto">90%</span>
                    </div>

                    <!-- Match 3 (Lucia) -->
                    <div onclick="alert('Demo: You selected Lucia. For this demo, let\'s look at Elena\'s profile!')" class="match-item bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex items-center gap-4 cursor-pointer">
                        <div class="w-16 h-16 bg-gray-200 rounded-full overflow-hidden flex-shrink-0">
                            <!-- REAL PHOTO LUCIA -->
                            <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=200&auto=format&fit=crop" alt="Lucia" class="w-full h-full object-cover">
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800 text-lg">Lucia Torres</h3>
                            <p class="text-xs text-gray-500 font-bold mb-1">Exchange Alumni '22 ‚Ä¢ Valencia</p>
                            <p class="text-xs text-gray-500">"Can help with English slang."</p>
                        </div>
                        <span class="text-xs font-bold text-green-600 ml-auto">85%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 4: MATCH PROFILE (Elena) - Renamed ID -->
        <div id="screen-match-profile" class="screen bg-gray-50">
            <div class="p-6">
                <!-- Back goes to List now -->
                <button onclick="goToScreen('screen-match-list')" class="text-gray-400 hover:text-gray-800 mb-4"><i class="fa-solid fa-arrow-left"></i> Back to List</button>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Mentor Profile</h2>

                <!-- Profile Card -->
                <div class="bg-white rounded-3xl overflow-hidden shadow-xl border border-gray-100">
                    <div class="h-32 bg-gradient-to-r from-indigo-500 to-purple-600 relative">
                        <div class="absolute top-4 right-4 bg-yellow-400 text-yellow-900 text-xs font-bold px-2 py-1 rounded-full shadow-sm">
                            <i class="fa-solid fa-star"></i> VETERAN
                        </div>
                        <div class="absolute -bottom-10 left-6 w-20 h-20 bg-white rounded-full p-1 border-4 border-white">
                            <div class="w-full h-full bg-gray-200 rounded-full overflow-hidden">
                                <!-- REAL PHOTO ELENA -->
                                <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop" alt="Elena" class="w-full h-full object-cover">
                            </div>
                        </div>
                    </div>
                    <div class="pt-12 px-6 pb-6">
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">Elena Gomez</h3>
                                <p class="text-sm text-indigo-600 font-semibold">Exchange Alumni '24 ‚Ä¢ Madrid</p>
                            </div>
                            <div class="bg-indigo-100 text-indigo-700 text-xs px-2 py-1 rounded-full font-bold">100% Match</div>
                        </div>
                        
                        <hr class="my-4 border-gray-100">
                        
                        <div class="space-y-3">
                            <div>
                                <h4 class="text-xs font-bold text-gray-400 uppercase">Experience</h4>
                                <div class="flex gap-2 mt-1">
                                    <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs">Lived in Ohio</span>
                                    <span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs">Survived Homesickness</span>
                                </div>
                            </div>
                            <div>
                                <h4 class="text-xs font-bold text-gray-400 uppercase">Bio</h4>
                                <p class="text-sm text-gray-600 leading-relaxed">¬°Hola! I did my exchange year last year. I can help you understand American host families and deal with culture shock.</p>
                            </div>
                        </div>

                        <button onclick="openChatWithMatch()" class="w-full mt-6 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 rounded-xl shadow-lg transition">
                            <i class="fa-regular fa-paper-plane"></i> Send Request
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 5: CHAT -->
        <div id="screen-chat" class="screen bg-white flex-col h-full">
            <!-- Chat Header -->
            <div class="bg-white p-4 shadow-sm flex items-center gap-4 border-b border-gray-100 z-10">
                <button onclick="goToScreen('screen-home')" class="text-gray-400 hover:text-gray-800"><i class="fa-solid fa-arrow-left"></i></button>
                <div class="relative">
                    <div class="w-10 h-10 bg-gray-200 rounded-full overflow-hidden">
                        <!-- REAL PHOTO ELENA -->
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?q=80&w=200&auto=format&fit=crop" alt="Elena" class="w-full h-full object-cover">
                    </div>
                    <div class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"></div>
                </div>
                <div>
                    <h3 class="font-bold text-gray-800 text-sm">Elena Gomez</h3>
                    <p class="text-xs text-green-600">Typing...</p>
                </div>
            </div>

            <!-- Chat Messages -->
            <div class="flex-1 overflow-y-auto p-4 flex flex-col bg-gray-50" id="chat-container">
                <div class="text-center text-xs text-gray-400 my-4">Today, 10:23 AM</div>
                
                <div class="chat-bubble-them">
                    ¬°Hola Jorge! I saw you just arrived. How are you feeling?
                </div>
                
                <div class="chat-bubble-me">
                    Hi Elena! A bit overwhelmed honestly. My host family is nice but...
                </div>

                <div class="chat-bubble-them">
                    Totalmente normal. The first week is the hardest. What happened?
                </div>
            </div>

            <!-- Chat Input -->
            <div class="p-4 border-t border-gray-100 bg-white">
                <div class="flex gap-2">
                    <input type="text" placeholder="Type a message..." class="flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button class="w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-md hover:bg-blue-700 transition" onclick="sendMessage()">
                        <i class="fa-solid fa-paper-plane text-sm"></i>
                    </button>
                </div>
            </div>
            
             <!-- Bottom Nav (Chat) -->
             <div class="bg-white border-t border-gray-200 py-3 px-6 flex justify-between items-center">
                <button class="nav-btn flex flex-col items-center gap-1 text-xs" onclick="goToScreen('screen-home')">
                    <i class="fa-solid fa-house text-xl"></i> Home
                </button>
                <button class="nav-btn flex flex-col items-center gap-1 text-xs" onclick="goToScreen('screen-match-list')">
                    <i class="fa-solid fa-magnifying-glass text-xl"></i> Match
                </button>
                <button class="nav-btn active flex flex-col items-center gap-1 text-xs" onclick="tryOpenChat()">
                    <i class="fa-solid fa-comment text-xl"></i> Chat
                </button>
            </div>
        </div>

        <!-- SCREEN: LOCAL GUIDES MENU -->
        <div id="screen-guides" class="screen bg-gray-50">
            <div class="p-6">
                <button onclick="goToScreen('screen-home')" class="text-gray-400 hover:text-gray-800 mb-6 flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back to Home</button>
                
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Survival Guides üß≠</h2>
                <p class="text-gray-500 mb-6">Master your exchange year.</p>

                <div class="space-y-4">
                    <!-- 1. Before Flying -->
                    <div onclick="goToScreen('screen-guide-flying')" class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center text-xl">
                                <i class="fa-solid fa-plane-departure"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Before Flying</h3>
                                <p class="text-xs text-gray-500">Packing, Gifts, Documents...</p>
                            </div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300"></i>
                    </div>

                    <!-- 2. Food & Shops -->
                    <div onclick="goToScreen('screen-guide-food')" class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-xl">
                                <i class="fa-solid fa-utensils"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Food & Shops</h3>
                                <p class="text-xs text-gray-500">Tipping, Snacks, Brands...</p>
                            </div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300"></i>
                    </div>

                    <!-- 3. Bucket List -->
                    <div onclick="goToScreen('screen-guide-bucket')" class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center text-xl">
                                <i class="fa-solid fa-check-double"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Bucket List</h3>
                                <p class="text-xs text-gray-500">Must-do before you leave!</p>
                            </div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300"></i>
                    </div>

                    <!-- 4. Sports & Traditions -->
                    <div onclick="goToScreen('screen-guide-sports')" class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-xl">
                                <i class="fa-solid fa-football"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Sports & Traditions</h3>
                                <p class="text-xs text-gray-500">Homecoming, Prom, Touchdowns...</p>
                            </div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300"></i>
                    </div>

                    <!-- 5. Local Community -->
                    <div onclick="goToScreen('screen-guide-community')" class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center text-xl">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Local Community</h3>
                                <p class="text-xs text-gray-500">Clubs, Volunteering, Events...</p>
                            </div>
                        </div>
                        <i class="fa-solid fa-chevron-right text-gray-300"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW SCREEN: BEFORE FLYING -->
        <div id="screen-guide-flying" class="screen bg-white">
            <div class="h-40 bg-indigo-600 relative flex items-end p-6">
                <button onclick="goToScreen('screen-guides')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <h2 class="text-2xl font-bold text-white">‚úàÔ∏è Before Flying</h2>
            </div>
            <div class="p-6 space-y-4 overflow-y-auto pb-20">
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <h4 class="font-bold text-gray-800 mb-2">Host Family Gifts üéÅ</h4>
                    <p class="text-sm text-gray-600">Bring something small from your country! Olive oil, local sweets, or a keychain. Don't bring fresh fruit (Customs will take it!).</p>
                </div>
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <h4 class="font-bold text-gray-800 mb-2">Packing Essentials üîå</h4>
                    <p class="text-sm text-gray-600">Buy a <strong>US Power Adapter</strong> before you leave. American plugs are different (Type A/B)!</p>
                </div>
            </div>
        </div>

        <!-- NEW SCREEN: FOOD & SHOPS -->
        <div id="screen-guide-food" class="screen bg-white">
            <div class="h-40 bg-green-600 relative flex items-end p-6">
                <button onclick="goToScreen('screen-guides')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <h2 class="text-2xl font-bold text-white">üçî Food & Shops</h2>
            </div>
            <div class="p-6 space-y-4 overflow-y-auto pb-20">
                <div class="bg-red-50 p-4 rounded-xl border border-red-200">
                    <h4 class="font-bold text-red-800 mb-1">‚ö†Ô∏è THE TIPPING RULE</h4>
                    <p class="text-sm text-red-700">In restaurants with waiters, you MUST tip <strong>15-20%</strong>. It is rude not to!</p>
                </div>
                <div class="flex items-center gap-3 py-2">
                    <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg">üíä</div>
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm">CVS / Walgreens</h4>
                        <p class="text-xs text-gray-500">Pharmacy + Snacks + Makeup.</p>
                    </div>
                </div>
                <div class="flex items-center gap-3 py-2">
                    <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg">üéØ</div>
                    <div>
                        <h4 class="font-bold text-gray-800 text-sm">Target</h4>
                        <p class="text-xs text-gray-500">Clothes, Room Decor & Food.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- NEW SCREEN: BUCKET LIST -->
        <div id="screen-guide-bucket" class="screen bg-white">
            <div class="h-40 bg-yellow-500 relative flex items-end p-6">
                <button onclick="goToScreen('screen-guides')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <h2 class="text-2xl font-bold text-white">‚úÖ Bucket List</h2>
            </div>
            <div class="p-6 space-y-3 overflow-y-auto pb-20">
                <p class="text-sm text-gray-500 mb-4">Tap to check off your goals!</p>
                
                <div onclick="this.classList.toggle('opacity-50')" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition">
                    <div class="w-6 h-6 border-2 border-yellow-500 rounded-full flex items-center justify-center"><i class="fa-solid fa-check text-xs text-yellow-500"></i></div>
                    <span class="text-gray-800 font-medium">Go to a Football Game üèà</span>
                </div>
                <div onclick="this.classList.toggle('opacity-50')" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition">
                    <div class="w-6 h-6 border-2 border-yellow-500 rounded-full flex items-center justify-center"><i class="fa-solid fa-check text-xs text-yellow-500"></i></div>
                    <span class="text-gray-800 font-medium">Try S'mores at a bonfire üî•</span>
                </div>
                <div onclick="this.classList.toggle('opacity-50')" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition">
                    <div class="w-6 h-6 border-2 border-yellow-500 rounded-full flex items-center justify-center"><i class="fa-solid fa-check text-xs text-yellow-500"></i></div>
                    <span class="text-gray-800 font-medium">Go to Prom / Homecoming üíÉ</span>
                </div>
                <div onclick="this.classList.toggle('opacity-50')" class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition">
                    <div class="w-6 h-6 border-2 border-yellow-500 rounded-full flex items-center justify-center"><i class="fa-solid fa-check text-xs text-yellow-500"></i></div>
                    <span class="text-gray-800 font-medium">Visit a big US City üèôÔ∏è</span>
                </div>
            </div>
        </div>

        <!-- SCREEN: SPORTS GUIDE -->
        <div id="screen-guide-sports" class="screen bg-white">
            <div class="h-40 bg-red-600 relative flex items-end p-6">
                <button onclick="goToScreen('screen-guides')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <h2 class="text-2xl font-bold text-white">üá∫üá∏ Sports & Fun</h2>
            </div>
            <div class="p-6 space-y-6 overflow-y-auto pb-20">
                <!-- Card 1 -->
                <div>
                    <h3 class="font-bold text-gray-800 text-lg mb-2"><i class="fa-solid fa-football text-red-600 mr-2"></i>Football Basics</h3>
                    <p class="text-gray-600 text-sm leading-relaxed mb-2">It is NOT soccer! The goal is to get the oval ball to the end zone.</p>
                    <div class="bg-red-50 p-3 rounded-lg border border-red-100">
                        <p class="text-xs font-bold text-red-800">Key Term: "Touchdown"</p>
                        <p class="text-xs text-red-600">Worth 6 points. Cheer loudly when this happens!</p>
                    </div>
                </div>
                <hr class="border-gray-100">
                <!-- Card 2 -->
                <div>
                    <h3 class="font-bold text-gray-800 text-lg mb-2"><i class="fa-solid fa-crown text-yellow-500 mr-2"></i>Homecoming vs Prom</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">
                        <strong>Homecoming (Fall):</strong> Casual dance, focused on the Football game.<br><br>
                        <strong>Prom (Spring):</strong> Formal dance (suits & dresses). Mainly for Seniors (12th grade).
                    </p>
                </div>
            </div>
        </div>

        <!-- SCREEN: LOCAL COMMUNITY -->
        <div id="screen-guide-community" class="screen bg-white">
            <div class="h-40 bg-teal-600 relative flex items-end p-6">
                <button onclick="goToScreen('screen-guides')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <h2 class="text-2xl font-bold text-white">ü§ù Community</h2>
            </div>
            <div class="p-6 space-y-4 overflow-y-auto pb-20">
                <div class="bg-teal-50 p-4 rounded-xl border border-teal-200">
                    <h4 class="font-bold text-teal-800 mb-2"><i class="fa-solid fa-hand-holding-heart mr-2"></i>Volunteer & Service</h4>
                    <p class="text-sm text-gray-600">Join the "Community Service Club". You need <strong>10 hours</strong> to get a certificate! Ask Mr. Smith in Room 102.</p>
                </div>
                
                <h3 class="font-bold text-gray-800 mt-4 mb-2">School Clubs</h3>
                <div class="space-y-2">
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center"><i class="fa-solid fa-language"></i></div>
                        <div>
                            <h4 class="font-bold text-gray-800 text-sm">International Club</h4>
                            <p class="text-xs text-gray-500">Tuesdays @ 3:30pm ‚Ä¢ Library</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                        <div class="w-10 h-10 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center"><i class="fa-solid fa-masks-theater"></i></div>
                        <div>
                            <h4 class="font-bold text-gray-800 text-sm">Drama Club</h4>
                            <p class="text-xs text-gray-500">Thursdays @ 4:00pm ‚Ä¢ Auditorium</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN: TOWN & SCHOOL INFO (LINKED FROM HOME) -->
        <div id="screen-guide-town" class="screen bg-white">
            <div class="h-44 bg-blue-700 relative flex items-end p-6">
                <button onclick="goToScreen('screen-home')" class="absolute top-6 left-6 text-white/80 hover:text-white"><i class="fa-solid fa-arrow-left"></i> Back</button>
                <div>
                    <span class="bg-blue-800 text-blue-200 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide">Your Location</span>
                    <h2 class="text-2xl font-bold text-white mt-1">Springfield, OH</h2>
                </div>
            </div>
            
            <div class="p-6 -mt-6 rounded-t-3xl bg-white flex-1 overflow-y-auto">
                <!-- School Profile Section -->
                <div class="mb-8">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-school text-blue-600"></i> Lincoln High School
                    </h3>
                    
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <div class="bg-gray-50 p-3 rounded-xl border border-gray-100 text-center">
                            <div class="text-xs text-gray-400 font-bold uppercase">Mascot</div>
                            <div class="text-lg font-bold text-gray-800">üêØ The Tigers</div>
                        </div>
                        <div class="bg-gray-50 p-3 rounded-xl border border-gray-100 text-center">
                            <div class="text-xs text-gray-400 font-bold uppercase">Colors</div>
                            <div class="text-lg font-bold text-blue-600">Blue & Gold</div>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 p-4 rounded-xl border border-red-100">
                        <p class="text-xs font-bold text-red-800 uppercase mb-1">‚ö†Ô∏è The Rival</p>
                        <p class="text-sm text-gray-700">Our rival is <strong>Central High</strong>. Never wear red on game days!</p>
                    </div>
                </div>

                <!-- Town Guide Section -->
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-location-dot text-green-600"></i> Town Hotspots
                    </h3>
                    
                    <div class="space-y-3">
                        <div class="flex items-start gap-3 pb-3 border-b border-gray-100">
                            <div class="w-10 h-10 bg-orange-100 text-orange-500 rounded-full flex items-center justify-center flex-shrink-0"><i class="fa-solid fa-pizza-slice"></i></div>
                            <div>
                                <h4 class="font-bold text-gray-800 text-sm">Tony's Pizza</h4>
                                <p class="text-xs text-gray-500">Best slice in town ($2). All students go here on Fridays.</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start gap-3 pb-3 border-b border-gray-100">
                            <div class="w-10 h-10 bg-purple-100 text-purple-500 rounded-full flex items-center justify-center flex-shrink-0"><i class="fa-solid fa-bag-shopping"></i></div>
                            <div>
                                <h4 class="font-bold text-gray-800 text-sm">Grandview Mall</h4>
                                <p class="text-xs text-gray-500">Main hangout spot. The cinema is on the 2nd floor.</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 bg-green-100 text-green-500 rounded-full flex items-center justify-center flex-shrink-0"><i class="fa-solid fa-tree"></i></div>
                            <div>
                                <h4 class="font-bold text-gray-800 text-sm">Riverside Park</h4>
                                <p class="text-xs text-gray-500">Great for running. Safe during the day.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- LOGIC STATE ---
        let isMatched = false;

        // --- INIT ---
        // Force Splash screen on load
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById('screen-splash').classList.add('active');

        // Wait 2.5 seconds, then go to Login
        setTimeout(() => {
            document.getElementById('screen-splash').classList.remove('active');
            document.getElementById('screen-login').classList.add('active');
        }, 2500);

        // --- NAVIGATION FUNCTIONS ---
        function login() {
            document.getElementById('user-greeting').innerText = "Hi, Jorge üëã"; // Default Login name
            // Transition from Login to Home
            document.getElementById('screen-login').classList.remove('active');
            document.getElementById('screen-home').classList.add('active');
        }
        
        // NEW: Signup Logic
        function completeSignup() {
            const nameInput = document.getElementById('signup-name').value;
            const name = nameInput ? nameInput.split(' ')[0] : "Student";
            
            // Personalize Home
            document.getElementById('user-greeting').innerText = "Hi, " + name + " üëã";
            
            // Go to home
            document.getElementById('screen-signup').classList.remove('active');
            document.getElementById('screen-home').classList.add('active');
        }
        
        function toggleInterest(btn) {
            btn.classList.toggle('selected');
            if (btn.classList.contains('selected')) {
                btn.classList.remove('bg-white', 'text-gray-600');
                btn.classList.add('bg-blue-50', 'text-blue-600', 'border-blue-500');
            } else {
                btn.classList.add('bg-white', 'text-gray-600');
                btn.classList.remove('bg-blue-50', 'text-blue-600', 'border-blue-500');
            }
        }

        // --- NEW MOOD TRACKER LOGIC ---
        function selectMood(btn, mood) {
            // Visual feedback
            btn.parentElement.querySelectorAll('button').forEach(b => b.classList.add('opacity-50'));
            btn.classList.remove('opacity-50');
            btn.classList.add('scale-125');
            
            // Show response message
            const responseDiv = document.getElementById('mood-response');
            responseDiv.classList.remove('hidden');
            
            if (mood === 'Sad' || mood === 'Help') {
                responseDiv.innerText = "We're here for you. Sending a hug! üíô";
                responseDiv.classList.replace('text-green-600', 'text-blue-600');
                responseDiv.classList.replace('bg-green-50', 'bg-blue-50');
            } else {
                responseDiv.innerText = "Thanks for checking in! üåü";
            }
        }

        function goToScreen(screenId) {
            // Hide all
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            // Show target
            document.getElementById(screenId).classList.add('active');
        }

        function tryOpenChat() {
            if (!isMatched) {
                alert("üîí Locked!\n\nYou need to find a mentor first. Go to the 'Match' tab to connect with someone.");
            } else {
                goToScreen('screen-chat');
            }
        }

        function openChatWithMatch() {
            // Activate match state
            isMatched = true;
            
            // Trigger Confetti
            createConfetti();

            // Update Home Screen UI (Swap Welcome Card for Mentor Card)
            document.getElementById('card-welcome').classList.add('hidden');
            
            // Show mentor card by modifying display style
            const mentorCard = document.getElementById('card-mentor-active');
            mentorCard.classList.remove('hidden');
            mentorCard.style.display = 'block';

            // Go to chat
            goToScreen('screen-chat');
        }

        function sendMessage() {
            const container = document.getElementById('chat-container');
            // Simulate sent message
            const myMsg = document.createElement('div');
            myMsg.className = 'chat-bubble-me animate-pulse';
            myMsg.innerText = "I don't know if I should offer to help with dishes...";
            container.appendChild(myMsg);
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;

            // Simulate reply
            setTimeout(() => {
                myMsg.classList.remove('animate-pulse');
                const theirMsg = document.createElement('div');
                theirMsg.className = 'chat-bubble-them';
                theirMsg.innerText = "ALWAYS offer! Even if they say no. It's super polite here. üòâ";
                container.appendChild(theirMsg);
                container.scrollTop = container.scrollHeight;
            }, 1500);
        }

        // --- CONFETTI LOGIC ---
        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#3B82F6', '#EF4444', '#F59E0B', '#10B981', '#8B5CF6'];
            
            for (let i = 0; i < 50; i++) {
                const confetto = document.createElement('div');
                confetto.classList.add('confetti');
                confetto.style.left = Math.random() * 100 + '%';
                confetto.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetto.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetto.style.opacity = Math.random();
                container.appendChild(confetto);
                
                // Cleanup
                setTimeout(() => confetto.remove(), 5000);
            }
        }
    </script>
</body>
</html>
